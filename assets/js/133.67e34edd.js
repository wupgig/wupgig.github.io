(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{489:function(t,a,s){"use strict";s.r(a);var e=s(47),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"java-杂项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-杂项"}},[t._v("#")]),t._v(" Java 杂项")]),t._v(" "),s("h2",{attrs:{id:"_1-为什么要配环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-为什么要配环境变量"}},[t._v("#")]),t._v(" 1. 为什么要配环境变量")]),t._v(" "),s("h3",{attrs:{id:"环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[t._v("#")]),t._v(" 环境变量")]),t._v(" "),s("p",[t._v("环境变量顾名思义，就是指在系统"),s("small",[t._v("（Window / Linux）")]),t._v("环境中存在着的变量。")]),t._v(" "),s("p",[t._v("逻辑上，『"),s("strong",[t._v("环境变量")]),t._v("』类似于编程领域中的全局变量的概念，只不过，这个『"),s("strong",[t._v("全局")]),t._v("』是一个更大的全局，是操作系统层面的全局。")]),t._v(" "),s("p",[t._v("理论上，"),s("small",[t._v("（不考虑访问权限问题）")]),t._v("，任何一个程序/进程，如果有需要，都能看得到、访问到这些“全局变量”。")]),t._v(" "),s("p",[t._v("系统中有一些自带的、默认存在的环境变量，通常情况下『"),s("strong",[t._v("不要改变这些系统自带的环境变量的值")]),t._v("』，特别是不要删除"),s("small",[t._v("（不要删除、不要删除）")]),t._v("它们的原值。")]),t._v(" "),s("p",[t._v("如果有需要，你也可以为你的系统"),s("strong",[t._v("添加新的环境变量")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"path-环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#path-环境变量"}},[t._v("#")]),t._v(" PATH 环境变量")]),t._v(" "),s("p",[s("strong",[t._v("PATH")]),t._v(" 是操作系统中的环境变量之一，它是系统自带的环境变量。")]),t._v(" "),s("p",[t._v("在使用操作系统过程中，你会在控制台/终端输入命令。"),s("strong",[t._v("每一个命令的背后都有一个与之对应的可执行程序")]),t._v("，在 Windows 上就是 "),s("strong",[t._v(".exe")]),t._v(" 和 "),s("strong",[t._v(".bat")]),t._v(" 这样的可执行程序。")]),t._v(" "),s("blockquote",[s("p",[s("small",[t._v("上面这句话中的『每个』和『都有』，不是 100% 正确，但是绝大多数情况下都是如此。这就是『内部命令』和『外部命令』的区别，这里不扩展讲解。")])])]),t._v(" "),s("p",[t._v("那么，一个很显而易见的问题来了：操作系统如何知道这些命令『背后』的执行程序在哪？它怎么知道去哪里找这些可执行程序？")]),t._v(" "),s("p",[t._v("操作系统靠 "),s("strong",[t._v("PATH")]),t._v(" 环境变量。"),s("strong",[t._v("PATH")]),t._v(" 环境变量的值，是多个目录的路径。"),s("small",[t._v("在 Win 10 中，这些路径每一个都是独行展示；在 Win 7 中这些路径名是以 "),s("code",[t._v(";")]),t._v(" 作为分隔符来连在一起，写作一行。")])]),t._v(" "),s("p",[t._v("当『你』输入了一个命令，要求操作系统去执行某项操作时，操作系统会去 "),s("strong",[t._v("PATH")]),t._v(" 的这些目录下挨个查找是否有与命令同名的可执行程序。有，则执行；没有，则会报错。")]),t._v(" "),s("h3",{attrs:{id:"java-环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-环境变量"}},[t._v("#")]),t._v(" Java 环境变量")]),t._v(" "),s("p",[t._v("当你要进行 Java 编程，或者是运行 Java 程序时，你会直接或间接使用到 "),s("strong",[t._v("javac")]),t._v(" 和 "),s("strong",[t._v("java")]),t._v(" 命令。")]),t._v(" "),s("p",[t._v("当你安装了 JDK 之后"),s("small",[t._v("（假定你没有自定义安装路径，使用的是默认路径）")]),t._v("，你所安装的 JDK 的路径 "),s("strong",[t._v("C:\\Program Files\\Java\\jdk1.8.0_201")]),t._v(" 下的 "),s("strong",[t._v("bin")]),t._v(" 目录下会存在 "),s("strong",[t._v("javac.exe")]),t._v(" 和 "),s("strong",[t._v("java.exe")]),t._v(" 这样一批可执行程序。")]),t._v(" "),s("p",[t._v("但是问题是：当你输入 "),s("strong",[t._v("javac")]),t._v(" 或 "),s("strong",[t._v("java")]),t._v(" 命令时，Windows 不知道到这个 "),s("strong",[t._v("bin")]),t._v(" 目录下找 "),s("strong",[t._v(".exe")]),t._v(" 可执行程序！")]),t._v(" "),s("p",[t._v("因此，在安装完 JDK 之后，你需要将这个装有 "),s("strong",[t._v("javac")]),t._v(" 和 "),s("strong",[t._v("java")]),s("small",[t._v("（还有其他的命令的对应的执行程序）")]),t._v("的 "),s("strong",[t._v("bin")]),t._v(" 目录『告诉』给 Windows 。以便于，让它知道要到这个目录下找可执行文件。")]),t._v(" "),s("p",[t._v("因此，我们需要将 "),s("strong",[t._v("C:\\Program Files\\Java\\jdk1.8.0_201\\bin")]),t._v(" 目录添加"),s("small",[t._v("（添加、添加，不要删除 PATH 的原值）")]),t._v("到环境变量 "),s("strong",[t._v("PATH")]),t._v(" 中。")]),t._v(" "),s("h3",{attrs:{id:"java-home-环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-home-环境变量"}},[t._v("#")]),t._v(" JAVA_HOME 环境变量")]),t._v(" "),s("p",[t._v("有一些依赖于 Java 开发/运行环境的软件"),s("small",[t._v("（例如 Tomcat）")]),t._v("在运行时有一个前提条件：它会要求系统的环境变量中存在一个名为 "),s("strong",[t._v("JAVA_HOME")]),t._v(" 的环境变量，"),s("small",[t._v("先估且不谈这个环境变量的值是什么，")]),s("strong",[t._v("如果这个环境变量如果不存在，那么这些软件就会直接运行失败")]),t._v("。")]),t._v(" "),s("p",[t._v("这个『前提条件』是这些依赖于 Java 开发/运行环境的软件自身硬编码定死的，『你』作为这些软件的使用者无法更改这一点，只能遵守它，满足这个前提条件。")]),t._v(" "),s("p",[t._v("因此，为了能正常使用这些依赖于 Java 开发/运行环境的软件，我们必须确保操作系统的环境变量中存在一个名为 "),s("strong",[t._v("JAVA_HOME")]),t._v(" 的环境变量。"),s("strong",[t._v("如果没有，必须添加它")]),t._v(" 。")]),t._v(" "),s("p",[s("strong",[t._v("JAVA_HOME")]),t._v(" 这个环境变量的值，应该是你的 JDK 的安装路径。例如："),s("code",[t._v("C:\\Program Files\\Java\\jdk1.8.0_201")]),t._v(" 。注意，这不是上面说的那个 bin 目录，而是 bin 目录的上一级目录。")]),t._v(" "),s("p",[t._v("本质上，就是因为这些软件在运行中要使用这个目录下的东西。所以，它们要求你通过一个名为 "),s("strong",[t._v("JAVA_HOME")]),t._v(" 环境变量来告知它们这个目录在哪。")]),t._v(" "),s("h3",{attrs:{id:"java-home-的一个副作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-home-的一个副作用"}},[t._v("#")]),t._v(" JAVA_HOME 的一个副作用")]),t._v(" "),s("p",[t._v("本来，"),s("strong",[t._v("JAVA_HOME")]),t._v(" 环境变量和 "),s("strong",[t._v("PATH")]),t._v(" 环境变量是没有直接关系的。")]),t._v(" "),s("p",[t._v("但是，“碰巧”的是我们添加到 "),s("strong",[t._v("PATH")]),t._v(" 中的指明 .exe 文件所在地的 "),s("strong",[t._v("C:\\Program Files\\Java\\jdk1.8.0_201")]),s("em",[t._v("\\bin")]),t._v(" 中的前一段不正好就是 "),s("strong",[t._v("JAVA_HOME")]),t._v(" 吗？！")]),t._v(" "),s("p",[t._v("因此，我们可以在 "),s("strong",[t._v("PATH")]),t._v(" 中利用 "),s("strong",[t._v("JAVA_HOME")]),t._v("。反正，你用或者不用，"),s("strong",[t._v("JAVA_HOME")]),t._v(" 都是存在着的。")]),t._v(" "),s("p",[t._v("因此，我们在 "),s("strong",[t._v("PATH")]),t._v(" 中添加的内容，就可以『简化』成："),s("strong",[t._v("%JAVA_HOME%/bin")]),t._v(" 。")]),t._v(" "),s("h3",{attrs:{id:"一个小技巧"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一个小技巧"}},[t._v("#")]),t._v(" 一个小技巧")]),t._v(" "),s("p",[t._v("Windows 操作系统有一个 "),s("strong",[t._v("where")]),t._v(" 命令，Linux 操作系统有一个 "),s("strong",[t._v("which")]),t._v(" 命令，它们都能告诉你：你要执行的命令『背后』的可执行程序在哪里。")]),t._v(" "),s("p",[t._v("以 Windows 为例：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("where javac\n")])])]),s("p",[t._v("如果 where 命令有正常的输出结果，那么就意味着操作系统能找得到命令『背后』的那个可执行程序，那么该命令自然可以正常使用。")]),t._v(" "),s("h2",{attrs:{id:"_2-二进制与十进制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-二进制与十进制"}},[t._v("#")]),t._v(" 2. 二进制与十进制")]),t._v(" "),s("h3",{attrs:{id:"十进制基本概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十进制基本概念"}},[t._v("#")]),t._v(" 十进制基本概念")]),t._v(" "),s("p",[t._v("145，被理解为“一百四十五” ，但是145并不是一个“数”，而只是一个数的代码，是这个数的*“书写方式”*")]),t._v(" "),s("p",[t._v("三、叁、three、3、|||、III、***、 丙、等等很多书写方式，其实都可以表达同样的数学上的数字概念。")]),t._v(" "),s("p",[t._v("阿拉伯数字用10，而罗马数字用X，来表达同一个数学概念。")]),t._v(" "),s("p",[t._v("我们所说的“一百四十五”，其实只是一种表达方式：阿拉伯式的表达，也即使十进制。")]),t._v(" "),s("h3",{attrs:{id:"十进制规则总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十进制规则总结"}},[t._v("#")]),t._v(" 十进制规则总结")]),t._v(" "),s("p",[t._v("归纳起来：\n"),s("i",{staticClass:"icon-ok-sign"}),t._v(" 十进制数使用数字 0~9\n"),s("i",{staticClass:"icon-ok-sign"}),t._v(" 每一位的【权】是$10^n$。\n"),s("i",{staticClass:"icon-ok-sign"}),t._v(" 用两位数可表示的最大数为99。也就是说，用n位数表示的范围是：0 ... n个9。共10的n次方个。")]),t._v(" "),s("p",[t._v("十进制的普及不是偶然的，但是我们可以使用不同的进制。")]),t._v(" "),s("p",[s("code",[t._v("注")]),t._v("，进制不同，只是书写效果的不同。不同的书写方式，可以表达同一个“数”的数学概念。")]),t._v(" "),s("h3",{attrs:{id:"进制规则的推广"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进制规则的推广"}},[t._v("#")]),t._v(" 进制规则的推广")]),t._v(" "),s("p",[t._v("按照十进制中总结的数学规则，可以这样描述 "),s("strong",[t._v("八进制")]),t._v("：\n"),s("i",{staticClass:"icon-ok-sign"}),t._v(" 可用的数字为 0~7\n"),s("i",{staticClass:"icon-ok-sign"}),t._v(" 各位的权是$8^n$：$8^0$，$8^1$，$8^2$，$8^3$，$8^4$ 等。\n"),s("i",{staticClass:"icon-ok-sign"}),t._v(" 用两位数可表示的最大数为77。也就是说，用n位八进制数表示的范围是：0 ... n个7，共$8^n$个。")]),t._v(" "),s("p",[s("code",[t._v("练习")]),t._v("，描述六进、七进制和九进制。")]),t._v(" "),s("p",[s("strong",[t._v("十进制")]),t._v("：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("位数")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第4位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第3位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第2位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第1位")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("位权")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$10^3$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$10^2$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$10^1$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$10^0$")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("值")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("1000")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("100")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("10")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("1")])])])]),t._v(" "),s("p",[s("strong",[t._v("七进制")]),t._v("：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第4位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第3位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第2位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第1位")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("位权")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$7^3$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$7^2$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$7^1$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$7^0$")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("等价十进制")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("343")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("49")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("7")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("1")])])])]),t._v(" "),s("h3",{attrs:{id:"重点结论"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重点结论"}},[t._v("#")]),t._v(" 重点结论")]),t._v(" "),s("p",[t._v("同样的书写方式 "),s("code",[t._v("200")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("十进制表示的数值是 2 个 100，而")]),t._v(" "),s("li",[t._v("七进制表示的数值 2 个 49")])]),t._v(" "),s("p",[t._v("为了表达 "),s("code",[t._v("50")]),t._v(" 这个数值：")]),t._v(" "),s("ul",[s("li",[t._v("十进制的书写格式是 50 ，而")]),t._v(" "),s("li",[t._v("七进制的书写格式是 101 ，")]),t._v(" "),s("li",[t._v("八进制的书写方式是 62")])]),t._v(" "),s("p",[t._v("所以：")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("在不同的进制之间，同样的『书写方式』表达的数学值并不一样")]),t._v("；")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("而要表达同样的数学值，『书写方式』是不一样的")]),t._v("。")])])]),t._v(" "),s("h3",{attrs:{id:"二进制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二进制"}},[t._v("#")]),t._v(" 二进制")]),t._v(" "),s("p",[t._v("二进制是这一概念推广的最终产物。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第8位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第7位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第6位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第5位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第4位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第3位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第2位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第位")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("位权")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$2^7$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$2^6$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$2^5$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$2^4$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$2^3$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$2^2$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$2^1$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$2^0$")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("等价十进制")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("128")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("64")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("32")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("16")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("8")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("1")])])])]),t._v(" "),s("p",[t._v("计算机根本不认识字母、数字、指令或程序，在它的内部只是一些电路，某个电路的节点上要么有很多电，要么几乎没有电。")]),t._v(" "),s("p",[t._v("在硬件上，硬件工程师不太容易表示："),s("code",[t._v("少点电")]),t._v(" - "),s("code",[t._v("一些点")]),t._v(" - "),s("code",[t._v("较多电")]),t._v("- "),s("code",[t._v("许多电")]),t._v(" - "),s("code",[t._v("大量电")]),t._v(" 这样的多状态。 反而很容易也更稳妥地实现："),s("code",[t._v("有电")]),t._v(" - "),s("code",[t._v("没电")]),t._v(" 的两状态。所以二进制的本质就是：用 1 和 0 可以代表每一段电路的真实状态。")]),t._v(" "),s("p",[t._v("因为早期的计算机一次处理 8 位，所以很自然的将 8 位大小的长度称为 "),s("strong",[t._v("字节")]),t._v("。")]),t._v(" "),s("p",[t._v("用 8 位二进制数可以表示 256 个不同的值。如果 8 位都为 1，则对应的十进制值是 255；如果 8 为都是 0，则对应的十进制值是 0，从 0~255 一共有 256 种可能的状态（数据）。")]),t._v(" "),s("p",[t._v("1 "),s("strong",[t._v("byte")]),t._v(" = 8 "),s("strong",[t._v("bit")]),t._v("\n1 "),s("strong",[t._v("KB")]),t._v(" = $2^{10}$ byte\n1 "),s("strong",[t._v("MB")]),t._v(" = $2^{10}$ KB = $2^{20}$ byte\n1 "),s("strong",[t._v("GB")]),t._v(" = $2^{10}$ MB = $2^{20}$ KB = $2^{30}$ byte")]),t._v(" "),s("p",[t._v("$2^{10}$ = 1024")]),t._v(" "),s("h3",{attrs:{id:"十六进制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十六进制"}},[t._v("#")]),t._v(" 十六进制")]),t._v(" "),s("p",[t._v("因为二进制数难于阅读，于是人们想出了一种更为简单的方式来表达相同的值。 从二进制转换成十进制设计到大量的数的操作，但是从二进制转换成十六进制就很简单。")]),t._v(" "),s("p",[t._v("十六进制中有十六个数字：0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f。\n用a表示比9大1的数，其值相当于十进制中的10\n用b表示比a大1的数，其值相当于十进制中的11\n用c表示比b大1的数，其值相当于十进制中的12\n用d表示比c大1的数，其值相当于十进制中的13\n用e表示比d大1的数，其值相当于十进制中的14\n用f表示比e大1的数，其值相当于十进制中的15")]),t._v(" "),s("p",[t._v("也就是说，有些数学概念上的数值，十进制中需要用两位数表示，但是十六进制用一位数就能表示")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第4位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第3位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第2位")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("第1位")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("位权")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$16^3$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$16^2$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$16^1$")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("$16^0$")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("等价十进制")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("4096")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("256")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("16")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("1")])])])]),t._v(" "),s("p",[s("code",[t._v("诀窍")]),t._v("：一个字节中的 8 位 2 进制数，分成两组 4 位，正好每一组 4 位二进制数等价于 1 位十六进制数。")]),t._v(" "),s("h2",{attrs:{id:"_3-unicode-编码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-unicode-编码"}},[t._v("#")]),t._v(" 3. Unicode 编码")]),t._v(" "),s("h3",{attrs:{id:"java-文件和-class-文件的字符编码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-文件和-class-文件的字符编码"}},[t._v("#")]),t._v(" "),s("code",[t._v(".java")]),t._v(" 文件和 "),s("code",[t._v(".class")]),t._v(" 文件的字符编码")]),t._v(" "),s("p",[t._v("java 源文件"),s("small",[t._v("（.java）")]),t._v("和编译后的 .class 文件的编码并不一样。")]),t._v(" "),s("p",[t._v("源文件 .java 可以采用多种编码格式，如")]),t._v(" "),s("ul",[s("li",[t._v("UTF-8"),s("small",[t._v("（unix linux 平台默认）")]),t._v("。或者")]),t._v(" "),s("li",[t._v("GBK"),s("small",[t._v("（windows 平台默认）")]),t._v("。")])]),t._v(" "),s("p",[t._v("之所以有"),s("small",[t._v("（可以有）")]),t._v("多种编码格式，是因为源文件毕竟是给『"),s("strong",[t._v("人")]),t._v("』看的，不是给 jvm 看的，它用什么编码格式 jvm 根本就不关心。")]),t._v(" "),s("p",[t._v("当将源码用 "),s("code",[t._v("javac")]),t._v(" 编译的时候，默认是 "),s("code",[t._v("javac")]),t._v(" 按照系统默认的编码格式读取 java 源文件，然后以 "),s("strong",[t._v("utf-8")]),t._v(" 的格式输出到 .class 文件中。")]),t._v(" "),s("p",[t._v("换句话说，在默认情况下")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("unix 平台，"),s("code",[t._v("javac")]),t._v(" 用 utf-8 格式读取 java 源文件  然后以 utf-8 格式写 .class；")])]),t._v(" "),s("li",[s("p",[t._v("在默认情况下 windows 平台，"),s("code",[t._v("javac")]),t._v(" 用 gbk 格式读取 java 源文件然后以 utf-8 格式写 .class 。")])])]),t._v(" "),s("p",[t._v("所以，中文字符乱码的根本原因在于，你"),s("small",[t._v("（有意或无意）")]),t._v("没有使用默认编码规则存储 .java 文件，而 javac 却又是按照默认规则去读 .java 文件，这就出现了乱码。")]),t._v(" "),s("p",[t._v("例如， 在 windows 平台下用 utf-8 格式保存 java 源文件， 那么你在执行 javac 命令编译源文件时，你需要『告诉』javac 命令，你要编译的源文件的编码格式。否则，会有乱码问题。")]),t._v(" "),s("h3",{attrs:{id:"java-中字符串的长度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-中字符串的长度"}},[t._v("#")]),t._v(" Java 中字符串的长度")]),t._v(" "),s("p",[t._v("在 Java 中一个字符串的长度并『"),s("strong",[t._v("不能")]),t._v("』简单地、想当然的想象成是其中所有字符数的累加和！")]),t._v(" "),s("p",[t._v("以下内容来自 stackoverflow 中的总结和解释")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("A Java char takes always 16 bits.")])]),t._v(" "),s("li",[s("p",[t._v("A Unicode character, when encoded as UTF-16, takes “almost always” (not always) 16 bits: that’s because there are more than 64K unicode characters. Hence, a Java char is NOT a Unicode character (though “almost always” is).")])]),t._v(" "),s("li",[s("p",[t._v("“Almost always”, above, means the 64K first code points of Unicode, range 0x0000 to 0xFFF (BMP), which take 16 bits in the UTF-16 encoding.")])]),t._v(" "),s("li",[s("p",[t._v("A non-BMP (“rare”) Unicode character is represented as two Java chars (surrogate representation). This applies also to the literal representation as a string: For example, the character U+20000 is written as “\\uD840\\uDC00”.")])]),t._v(" "),s("li",[s("p",[t._v("Corolary: string.length() returns the number of java chars, not of Unicode chars. A string that has just one “rare” unicode character (eg U+20000) would return length() = 2 . Same consideration applies to any method that deals with char-sequences.")])]),t._v(" "),s("li",[s("p",[t._v("Java has little intelligence for dealing with non-BMP unicode characters as a whole. There are some utility methods that treat characters as code-points, represented as ints eg: Character.isLetter(int ch). Those are the real fully-Unicode methods.")])])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" str1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\uD840\\uDC00"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" str2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"𠀀"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("length")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isLetter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("charAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"中日韩文的-unicode-码点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#中日韩文的-unicode-码点"}},[t._v("#")]),t._v(" 中日韩文的 UniCode 码点")]),t._v(" "),s("p",[t._v("https://codepoints.net/planes")]),t._v(" "),s("p",[t._v("CJK 的意思是 "),s("em",[s("code",[t._v("Chinese，Japanese，Korea")])]),t._v(" 的简写 ，实际上就是指中日韩三国文字"),s("small",[t._v("（象形文字）")]),t._v("的 Unicode 编码。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("字符集")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("Unicode 编码")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("标识")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("部首扩展")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2E80 - 2EFF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Radicals Supplement")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("康熙部首")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2F00 - 2FDF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Kangxi Radicals")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("汉字结构")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2FF0 - 2FFF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Ideographic Description Characters")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("汉语标点符号")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("3000 - 303F")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("CJK Symbols and Punctuation")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("日语注音")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("3100-3120")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Bopomofo")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("注音扩展")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("31A0-31BA")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Bopomofo Extended")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("汉字笔画")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("31C0-31EF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Strokes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("扩展 A")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("3400 - 4DBF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Unified Ideographs Extension A")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("基本汉字")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("4E00 - 9FFF")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("CJK Unified Ideographs")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("兼容汉字")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("F900- FAD9")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Compatibility Ideographs")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("全角半角字母符号")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("FF00 - FFEF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Halfwidth and Fullwidth Forms")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("扩展 B")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("20000-2A6DF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Unified Ideographs Extension B")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("扩展 C")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2A700-2B73F")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Unified Ideographs Extension C")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("扩展 D")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2B740-2B81F")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Unified Ideographs Extension D")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("兼容扩展")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2F800-2FA1F")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Compatibility Ideographs Supplement")])])])]),t._v(" "),s("h3",{attrs:{id:"java-完美判断中文字符的方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-完美判断中文字符的方案"}},[t._v("#")]),t._v(" Java 完美判断中文字符的方案")]),t._v(" "),s("p",[s("small",[t._v("方案/思路是 ok 的，细节可以再调整。")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据 Unicode 编码完美的判断中文汉字和符号 ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isChinese")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CJK_UNIFIED_IDEOGRAPHS \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CJK_COMPATIBILITY_IDEOGRAPHS \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CJK_UNIFIED_IDEOGRAPHS_EXTENSION_A \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CJK_UNIFIED_IDEOGRAPHS_EXTENSION_B \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CJK_SYMBOLS_AND_PUNCTUATION \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HALFWIDTH_AND_FULLWIDTH_FORMS \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GENERAL_PUNCTUATION"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n")])])]),s("h3",{attrs:{id:"三种空格"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三种空格"}},[t._v("#")]),t._v(" 三种空格")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("空格")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("Unicode 码")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("不间断空格")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("\\u00A0")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("主要用在 office 中，让一个单词在结尾处不会换行显示，快捷键 ctrl+shift+space")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("半角空格"),s("small",[t._v("（英文符号）")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("\\u0020")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("代码中常用的")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("全角空格"),s("small",[t._v("（中文符号）")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("\\u3000")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("中文文章中使用")])])])]),t._v(" "),s("h2",{attrs:{id:"_4-classpath-在哪"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-classpath-在哪"}},[t._v("#")]),t._v(" 4. Classpath 在哪？")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("src 目录就是 classpath 。这个说法对不对？\n")])])]),s("h3",{attrs:{id:"什么叫-classpath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么叫-classpath"}},[t._v("#")]),t._v(" 什么叫 Classpath？")]),t._v(" "),s("p",[t._v("Classpath 就是『"),s("strong",[t._v("字面含义")]),t._v("』！指的就是放项目的 "),s("code",[t._v(".class")]),t._v(" 文件的文件夹"),s("small",[t._v("（位置）")]),t._v("。")]),t._v(" "),s("h4",{attrs:{id:"java-项目的-classpath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-项目的-classpath"}},[t._v("#")]),t._v(" Java 项目的 Classpath")]),t._v(" "),s("p",[t._v("对于 java 项目，"),s("strong",[t._v(".class")]),t._v(" 文件在项目编译后出现的 "),s("strong",[t._v("bin")]),t._v(" 目录下。")]),t._v(" "),s("p",[t._v("这个目录下的内容是：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("与包名一致的目录层次结构")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v(".class")]),t._v(" 文件")])])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Java 项目\n│── ...\n└── bin\n    └── com\n        └── softeem\n            └── App.class\n")])])]),s("h4",{attrs:{id:"java-web-项目的-classpath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-web-项目的-classpath"}},[t._v("#")]),t._v(" Java Web 项目的 Classpath")]),t._v(" "),s("p",[t._v("对于 java-web 项目，"),s("strong",[t._v(".class")]),t._v(" 文件在项目编译后出现的 "),s("strong",[t._v("build/classes")]),t._v(" 下。")]),t._v(" "),s("p",[t._v("这个目录下的内容是：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("与包名一致的目录层次结构")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v(".class")]),t._v(" 文件")])])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Java Web 项目\n│── ...\n└── build\n    └── classes\n        └── com\n            └── softeem\n                └── App.class\n")])])]),s("p",[s("strong",[t._v("这两个文件夹"),s("small",[t._v("（的位置）")]),t._v("才是名副其实的 Classpath 。")])]),t._v(" "),s("p",[t._v("###『src 目录就是 Classpath』不对")]),t._v(" "),s("p",[t._v("原因很简单，src 目录下根本就没有 "),s("em",[t._v(".class")]),t._v(" 文件！")]),t._v(" "),s("p",[t._v("一个根本就没有 "),s("em",[t._v(".class")]),t._v(" 文件的文件夹  "),s("strong",[t._v("根本不可能")]),t._v(" / "),s("strong",[t._v("没有资格")]),t._v(" 是 Classpath 。")]),t._v(" "),s("p",[t._v("###『src 目录就是 Classpath』有一定道理")]),t._v(" "),s("p",[t._v("在编译项目时，编译器"),s("small",[t._v("（或开发工具）")]),t._v("是对 src 下的内容进行编译，而后再将编译的结果『搬运』到 Classpath 下。")]),t._v(" "),s("p",[t._v("那么也即是说，"),s("strong",[t._v("src")]),t._v(" 和 Classpath 是有对应关系的！")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("src")]),t._v(" 下的目录结构"),s("small",[t._v("（即包结构）")]),t._v("与 Classpath 下的目录结构"),s("small",[t._v("（即包结构）")]),t._v("是一样的。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("src")]),t._v(" 下出现的 "),s("strong",[t._v(".java")]),t._v(" 文件，在 Classpath 下就是对应的 "),s("strong",[t._v(".class")]),t._v(" 文件。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("src")]),t._v(" 下出现的配置文件"),s("small",[t._v("（"),s("strong",[t._v(".xml")]),t._v(" 和 "),s("strong",[t._v(".properties")]),t._v("）")]),t._v("会被『搬运』到 Classpath 下的同样位置。")])])]),t._v(" "),s("p",[t._v("因为 "),s("strong",[t._v("src")]),t._v(" 和 Classpath 的对应关系，所以，说 "),s("strong",[t._v("src")]),t._v(" 就是 Classpath"),s("small",[t._v("（从最终的效果上看）")]),s("strong",[t._v("勉强也算对")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"有对应关系的文件夹可以不止一个"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#有对应关系的文件夹可以不止一个"}},[t._v("#")]),t._v(" 有对应关系的文件夹可以不止一个")]),t._v(" "),s("p",[s("strong",[t._v("src")]),t._v(" 和 Classpath 的对应关系并非唯一。你可以去设置更多的文件夹与 Classpath 的对应关系。")]),t._v(" "),s("p",[t._v("未来编译器在编译项目时，会将这 N 个配置文件的内容编译并『搬运』到 Classpath 中。")]),t._v(" "),s("h2",{attrs:{id:"_5-契约式编程与防御式编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-契约式编程与防御式编程"}},[t._v("#")]),t._v(" 5. 契约式编程与防御式编程")]),t._v(" "),s("h3",{attrs:{id:"防御式编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#防御式编程"}},[t._v("#")]),t._v(" 防御式编程")]),t._v(" "),s("p",[t._v("对于"),s("strong",[t._v("防御式编程")]),t._v("，"),s("em",[t._v("《代码大全》")]),t._v(" 给我们提供了一个定义：")]),t._v(" "),s("blockquote",[s("p",[t._v("    人类都是不安全、不值得信任的，所有的人，都会犯错误，而你写的代码，应该考虑到所有可能发生的错误，让你的程序不会因为他人的错误而发生错误。")])]),t._v(" "),s("p",[t._v("程序需要对可能的错误输入，你需要作出预防。预防的手段可以有如下两种：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v('做出兼容，允许本轮执行。（例如，参数字符串不允许为 null，如果传入 null，我给它一个默认值：""，以替代它的原始值 null）')])]),t._v(" "),s("li",[s("p",[t._v("错误提示，终止本轮执行，提示重新再来。")])])]),t._v(" "),s("p",[t._v("简而言之，防御式编程，就是持怀疑态度审视所有的代码：『总有刁民想害朕』。")]),t._v(" "),s("h3",{attrs:{id:"契约式编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#契约式编程"}},[t._v("#")]),t._v(" 契约式编程")]),t._v(" "),s("p",[t._v("什么是"),s("strong",[t._v("契约式编程")]),t._v("？")]),t._v(" "),s("blockquote",[s("p",[t._v("     简单的说，契约作用于两方，每一方都会完成一些任务，从而促成契约的达成，但同时，每一方也会接受一些义务，作为制定契约的前提，有任意一方无视了必尽义的义务，则契约失败。")])]),t._v(" "),s("p",[t._v("契约式编程要求我们在『"),s("strong",[t._v("前提条件")]),t._v("』、『"),s("strong",[t._v("后继条件")]),t._v("』和『"),s("strong",[t._v("不变量条件")]),t._v("』进行契约的检查。类似的，例如检查参数，一旦参数不对，当即撕毁契约。")]),t._v(" "),s("p",[t._v("契约所约束的，是『"),s("strong",[t._v("一个为了确保程序正常运行的条件")]),t._v("』，一旦契约被损毁，只有一个原因，那就是程序出了 Bug。")]),t._v(" "),s("p",[t._v("例如，一个参数，在我处理的时候，必须保证是不为空的。那么谁来保证这一点呢？一定是我的调用方（或者说是其它模块），所以，一旦出现问题，应该由调用方来检查，确保调用的时候，必须是不为空的。")]),t._v(" "),s("p",[t._v("契约式编程可以严格区分责任，让每个人都不必为了迁就他人的错误而进行『艰难的编码』。每个人按照契约处理好自己的事情，让损毁契约的人承担责任。")]),t._v(" "),s("h2",{attrs:{id:"java-时区问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-时区问题"}},[t._v("#")]),t._v(" Java 时区问题")]),t._v(" "),s("h3",{attrs:{id:"_1-java-时区相关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-java-时区相关"}},[t._v("#")]),t._v(" 1. Java 时区相关")]),t._v(" "),s("h4",{attrs:{id:"时间格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#时间格式"}},[t._v("#")]),t._v(" 时间格式")]),t._v(" "),s("p",[t._v("UTC 是以原子时计时，更加精准，适应现代社会的精确计时。不过一般使用不需要精确到秒时，视为等同。GMT 是前世界标准时，UTC 是现世界标准时。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("每年格林尼治天文台会发调时信息，基于 UTC 。\n")])])]),s("p",[t._v("GMT 和 UTC 可以视为几乎是等同的，UTC 更精准，有闰秒的概念。")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("世界标准时间 UTC："),s("code",[t._v("2010-10-12T15:24:22Z")]),t._v(" or "),s("code",[t._v("2010-10-12 15:24:22Z")])]),t._v(" "),s("p",[t._v("其中 "),s("strong",[t._v("T")]),t._v(" 表示时分秒的开始"),s("small",[t._v("（或者日期与时间的间隔）")]),t._v("，"),s("strong",[t._v("Z")]),t._v(" 表示这是一个世界标准时间")])]),t._v(" "),s("li",[s("p",[t._v("本地时间"),s("small",[t._v("（也叫不含时区信息的时间）")]),t._v("："),s("code",[t._v("2010-10-12T15:24:22")])]),t._v(" "),s("p",[t._v("本地时间的末尾没有 "),s("strong",[t._v("Z")]),t._v("。对于不同时区的人而言，如果两者交流间使用的是本地时间，那么会引发歧义。")])]),t._v(" "),s("li",[s("p",[t._v("含有时区的时间："),s("code",[t._v('2017-12-13T09:47:07.153+08:00[Asia/Shanghai]"')])]),t._v(" "),s("p",[s("code",[t._v("+08:00")]),t._v(" 表示该时间是由世界标准时间加了 8 个小时得到的，"),s("code",[t._v("[Asia/Shanghai]")]),t._v(" 表示时区。")]),t._v(" "),s("p",[t._v("由于 "),s("code",[t._v("+08:00")]),t._v(" 的存在，所以将表示时区的 "),s("code",[t._v("[Asia/Shanghai]")]),t._v(" 省略掉，也不会导致时间概念上的歧义。")])])]),t._v(" "),s("h4",{attrs:{id:"表示时间相关的类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#表示时间相关的类"}},[t._v("#")]),t._v(" 表示时间相关的类")]),t._v(" "),s("p",[t._v("在 Java 编码中，表示时间的类主要有个：String、Instant、LocalDateTime、ZonedDateTime 。")]),t._v(" "),s("p",[s("strong",[t._v("String")]),t._v(" 是字符串形式的时间，"),s("strong",[t._v("Instant")]),t._v(" 是时间戳，"),s("strong",[t._v("LocalDateTime")]),t._v(" 是不含时区信息的时间，"),s("strong",[t._v("ZonedDateTime")]),t._v(" 是含有时区信息的时间。")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("LocalDateTime")]),t._v(" "),s("p",[t._v("符合格式的 String 可以直接转换为 LocalDateTime 。")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" str "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LocalDateTime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-12-15 10:10:10"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DateTimeFormatter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ofPattern")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yyyy-MM-dd HH:mm:ss"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("LocalDateTime 字面意思是本地时间，实际上它可以理解为不含时区信息的时间，只储存了年月日时分秒，要表达是哪里的时间需要时区解释，即，这是一个逻辑上有歧义的时间。")])]),t._v(" "),s("li",[s("p",[t._v("Instant 与 ZonedDateTime")]),t._v(" "),s("p",[t._v("Instant 是时间戳，是指世界标准时格林威治时间 1970 年 01 月 01 日 00 时 00 分 00 秒"),s("small",[t._v("（即北京时间 1970 年 01 月 01 日 08 时 00 分 00 秒）")]),t._v("起至现在的总秒数。")]),t._v(" "),s("p",[t._v("注意，由此可见 Instant 本身已经携带了时区信息，也就是 0 时区。"),s("small",[t._v("当然，这只是默认值，有需要的话你可以指定的。")])]),t._v(" "),s("p",[t._v("ZonedDateTime 是含有时区信息的时间，可以理解为它是 Instant 的格式化对象。")]),t._v(" "),s("p",[t._v("JDK 8 以前的时区是用 TimeZone，TimeZone ID 是在 java 里 ZoneInfoFile 类加载的。在 jvm 初始化的时候，会读取 jdk 安装目录下的 "),s("code",[t._v("${java.home}/jre/lib/tzdb.dat")]),t._v("，放到其成员变量为 zones 的 ConcurrentHashMap 里。当调用 TimeZone.getTimeZone(id) 方法时，会用 id 到这个 map 里进行匹配获取到指定 id 的时区。其中"),s("code",[t._v('TimeZone.getTimeZone("Asia/Shanghai")')]),t._v(" 和 "),s("code",[t._v('TimeZone.getTimeZone("GMT+8")')]),t._v(" 是相同的，可以相互替换使用。")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ZonedDateTime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ofInstant")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Instant")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ZoneId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("systemDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toInstant")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ZonedDateTime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ofInstant")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Instant")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Australia/Darwin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toInstant")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("相同的 Instant，在不同的时区有不同的展示时间，所以在用 Instant 构造 ZonedDateTime 的时候需要传入时区；ZonedDateTime 可以直接转化为 Instant ，并且不同的 ZonedDateTime 可能会生成同样的 Instant 。")])])]),t._v(" "),s("h3",{attrs:{id:"_2-时区转换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-时区转换"}},[t._v("#")]),t._v(" 2. 时区转换")]),t._v(" "),s("p",[t._v("用户输入的 String 类型的时间是没有时区信息的，需要人为指定时区再解析。")]),t._v(" "),s("p",[t._v("解析的步骤分 2 步： 先确定用户时区")]),t._v(" "),s("ol",[s("li",[s("p",[t._v('把用户输入的时间转化为世界标准时间；Instant.parse("2010-10-12T15:24:22Z")')])]),t._v(" "),s("li",[s("p",[t._v("再把世界标准时间转为需要的时区的时间。ZonedDateTime.ofInstant(instant,ZoneId.systemDefault());")])])]),t._v(" "),s("h3",{attrs:{id:"_3-不同地区的服务器统一时间的解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-不同地区的服务器统一时间的解决方案"}},[t._v("#")]),t._v(" 3. 不同地区的服务器统一时间的解决方案")]),t._v(" "),s("p",[t._v("首先后端封装一个接口后获取服务器相对 GMT（格林尼治标准时间）时间的偏移量：")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeZone")]),t._v(" zone "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeZone")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("zone"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRawOffset")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("这段代码放在不同时区的服务器上执行结果会不同"),s("small",[t._v("（前提是服务器的时区设置跟本地时区一致）")]),t._v("。如果在泰国执行结果为 25200000ms ，换算成小时为 7 ，说明泰国的时区的偏移量相对于 GMT 标准时间相差 7 小时。下文简称“时区偏移量”。")]),t._v(" "),s("p",[t._v("前端首先调用该接口获取服务器的时区偏移量，再在浏览器上获取本地的时区偏移量，计算出两个偏移量的差值。本地浏览器上获取当前的时间戳，减去上一步计算出来的差值即可得到服务器这个时间的时间戳，把这个时间戳传给后端 再转换成时间，就是服务器对应的时间，存入数据库即可。")]),t._v(" "),s("p",[t._v("前端：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 服务的时区偏移量，通过接口获得，注意换成负值")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" serveroffset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25200000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" d "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取本地浏览器的时区偏移量")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" localOffset "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTimezoneOffset")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 得到本地和偏移量的差值")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" deffoffset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("localOffset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serveroffset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取本地浏览器时间戳")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" localTime "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算出传到服务器的时间戳")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" servertime"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("localTime"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("deffoffset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("通过上述方式，可以实现服务器全球各地部署，系统都可以正常使用。")])])}),[],!1,null,null,null);a.default=n.exports}}]);