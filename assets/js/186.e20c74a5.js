(window.webpackJsonp=window.webpackJsonp||[]).push([[186],{554:function(t,a,s){"use strict";s.r(a);var n=s(47),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mavan-父子模块-继承"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mavan-父子模块-继承"}},[t._v("#")]),t._v(" Mavan 父子模块（继承）")]),t._v(" "),s("p",[t._v("『"),s("strong",[t._v("继承")]),t._v("』是 Maven 中很强大的一种功能，继承可以使得子 pom 可以获得 parent 中的各项配置，可以对子 pom 进行统一的配置和依赖管理。")]),t._v(" "),s("p",[t._v("简而言之，继承是为了抽取多个模块的公共配置，以实现统一/简化配置的目的。")]),t._v(" "),s("p",[t._v("父 pom 中的大多数元素都能被子 POM 继承。『"),s("strong",[t._v("除了以下元素外")]),t._v("』，其它元素均可被子模块继承：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("artifactId")])]),t._v(" "),s("li",[s("p",[t._v("name")])]),t._v(" "),s("li",[s("p",[t._v("prerequisites")])])]),t._v(" "),s("h2",{attrs:{id:"父项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父项目"}},[t._v("#")]),t._v(" 父项目")]),t._v(" "),s("p",[t._v("通常 Maven 的父项目是一个特殊项目，本质上『"),s("strong",[t._v("它是因为了复用配置而存在的项目")]),t._v("』而并非一个实际意义上的真实的项目。")]),t._v(" "),s("p",[s("strong",[t._v("注意")]),t._v("：父项目的 "),s("em",[t._v("<packaging>")]),t._v(" 类型是 "),s("em",[t._v("pom")]),t._v(" 类型，既非 "),s("em",[t._v("jar")]),t._v(" 类型，也非 "),s("em",[t._v("war")]),t._v(" 类型。")]),t._v(" "),s("p",[t._v("父项目并不是一个真正的项目，因此父项目下完全不需要存在 "),s("em",[t._v("java")]),t._v(" 包和 "),s("em",[t._v("resources")]),t._v(" 包，父项目下只需要存在一个 "),s("em",[t._v("pom.xml")]),t._v(" 文件，其它皆非必须。")]),t._v(" "),s("h2",{attrs:{id:"子项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#子项目"}},[t._v("#")]),t._v(" 子项目")]),t._v(" "),s("p",[t._v("为一个子项目指定父项目只需要在其 "),s("em",[t._v("pom.xml")]),t._v(" 中添加 "),s("em",[t._v("<parent>")]),t._v(" 元素即可。")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("project")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://maven.apache.org/POM/4.0.0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://maven.apache.org/POM/4.0.0\n        https://maven.apache.org/xsd/maven-4.0.0.xsd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("modelVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("4.0.0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("modelVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("parent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.codehaus.mojo"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("my-parent"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("relativePath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("这里有所不同"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("relativePath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("parent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("my-project"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("project")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("em",[t._v("<relativePath>")]),t._v(" 元素用于指明本项目"),s("small",[t._v("（子项目）")]),t._v("的父项目的 pom 文件的路径名。例如：")]),t._v(" "),s("ul",[s("li",[s("p",[s("em",[t._v("<relativePath>../pom.xml</relativePath>")])]),t._v(" "),s("p",[t._v("在硬盘上的目录层次结构中，子模块在父模块的『里面』。")])]),t._v(" "),s("li",[s("p",[s("em",[t._v("<relativePath>../parent-module/pom.xml</relativePath>")])]),t._v(" "),s("p",[t._v("在硬盘上的目录层次结构中，子模块和父模块『平级』。")])]),t._v(" "),s("li",[s("p",[s("em",[t._v("<relativePath />")])]),t._v(" "),s("p",[t._v("Maven 就不关心子模块和父模块在硬盘上的目录层次结构。它要求父模块在本地仓库中存在。")])])]),t._v(" "),s("p",[t._v("如果完全没有 "),s("em",[t._v("<relativePath>")]),t._v(" 元素，等同于："),s("code",[t._v("<relativePath>../pom.xml<relativePath>")]),t._v(" ，即，子模块要在父模块『里面』。")]),t._v(" "),s("p",[s("strong",[t._v("注意")]),t._v("：子项目不一定非得新建在父项目内。所以，默认的 "),s("strong",[t._v("../pom.xml")]),t._v(" 并一定总是对的。")]),t._v(" "),s("h2",{attrs:{id:"父子项目的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父子项目的使用"}},[t._v("#")]),t._v(" 父子项目的使用")]),t._v(" "),s("p",[t._v("通常，让子项目重用父项目的配置，有 2 种表现形式：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("父项目中定义 "),s("strong",[t._v("<dependencies>")]),t._v("，子项目『"),s("strong",[t._v("天然继承")]),t._v("』了父项目的 "),s("strong",[t._v("<dependences>")]),t._v("，从而不再需要引入这些依赖。")])]),t._v(" "),s("li",[s("p",[t._v("父项目通过配置 "),s("strong",[t._v("<dependencyManagement>")]),t._v(" 定义依赖包的版本，子项目不用则已，一旦使用这些包中的某个"),s("small",[t._v("（或某些）")]),t._v("，则不再需要指定它们的版本信息。")]),t._v(" "),s("p",[t._v("另外，有 "),s("strong",[t._v("<dependencyManagement>")]),t._v(" 自然就有 "),s("strong",[t._v("<pluginManagement>")]),t._v(" 。")]),t._v(" "),s("p",[t._v("整体结构"),s("small",[t._v("（其它无关元素略）")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[t._v("project \n├── dependencyManagement\n│   └── dependencies\n│       ├── dependency\n│       └── ...\n└── build\n    └── pluginManagement\n        └── plugins\n            ├── plugin\n            └── ...\n")])])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);