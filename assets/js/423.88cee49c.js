(window.webpackJsonp=window.webpackJsonp||[]).push([[423],{791:function(t,e,s){"use strict";s.r(e);var i=s(47),a=Object(i.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"redis-解压版"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis-解压版"}},[t._v("#")]),t._v(" Redis 解压版")]),t._v(" "),s("p",[t._v("有些软件对于安装路径有一定的要求，例如：路径中不能有空格，不能有中英文，不能有特殊符号，等等。")]),t._v(" "),s("p",[t._v("为了避免不必要的麻烦，也懒得一一辨别踩坑，我们人为作出「"),s("strong",[t._v("统一的约定")]),t._v("」：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("安装版的软件，一律安装在软件的默认安装路径，不要去改变它。"),s("small",[t._v("默认在哪就是哪，别动。")])])]),t._v(" "),s("li",[s("p",[t._v("解压版的软件，一律安装在："),s("strong",[t._v("D:\\ProgramFiles")]),t._v(" 。这是一个没中文、没空格的路径！")])])]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("从 "),s("a",{attrs:{href:"https://github.com/MicrosoftArchive/redis/releases/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/MicrosoftArchive/redis/releases/"),s("OutboundLink")],1),t._v(" 上下载 Redis 3.2.100"),s("small",[t._v("（这是解压免安装版的最高版本）")]),t._v("。")]),t._v(" "),s("p",[t._v("解压 "),s("strong",[s("code",[t._v(".zip")])]),t._v(" 包后会看到类似如下内容")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/windows/img/redis-install-01.png",alt:"redis-install-01.png"}})]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("文件名")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("简要")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("redis-benchmark.exe")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("基准测试")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("redis-check-aof.exe")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("aof")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("redischeck-dump.exe")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("dump")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("redis-cli.exe")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("客户端")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("redis-server.exe")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("服务器")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("redis.windows.conf")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("配置文件")])])])]),t._v(" "),s("p",[t._v("进入 redis 的解压目录，执行如下命令：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("redis-server.exe redis.windows.conf --maxmemory 200M\n")])])]),s("p",[t._v("其中 "),s("strong",[s("code",[t._v("--maxmemory 200M")])]),t._v(" 是可选部分，它表示指定 redis 使用的最大内存，如不指定，redis 则使用默认的配置值。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/windows/img/redis-install-02.png",alt:"redis-install-02.png"}})]),t._v(" "),s("p",[t._v("当出现此界面的时候，说明启动成功，Redis 正监听端口 "),s("strong",[t._v("6379")]),t._v("，等待客户端发起连接。")]),t._v(" "),s("p",[t._v("重新打开一个命令行终端，执行如下命令：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/windows/img/redis-install-03.png",alt:"redis-install-03.png"}})]),t._v(" "),s("p",[s("strong",[t._v("默认连接 Redis 是不需要密码的")]),t._v("，因为配置文件 "),s("strong",[t._v("redis.windows.conf")]),t._v(" 中并没有指定认证密码。")]),t._v(" "),s("p",[t._v("如有需要，打开 "),s("em",[s("code",[t._v("redis.window.conf")])]),t._v(" 找到 "),s("code",[t._v("# requirepass foobared")]),t._v("（这一行是注释），去掉注释符 "),s("code",[t._v("#")]),t._v(" 或者在其下新增内容：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("requirepass 123456\n")])])]),s("p",[t._v("关闭 redis 服务端，再重新启动。现在在客户端窗口第一次输入命令时，redis 会给出 "),s("code",[t._v("(error) NOAUTH Authentication required.")]),t._v(" 提示，要求你提供密码，为此你必须使用 "),s("strong",[t._v("auth")]),t._v(" 命令：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("127.0.0.1:6379> auth 123456\nOK\n")])])]),s("p",[t._v("或者在 "),s("code",[t._v("redis-cli")]),t._v(" 连接的时候，就指定密码："),s("code",[t._v("redis-cli.exe -a 123456")])]),t._v(" "),s("p",[t._v("其实本质上，redis-cli 的完整格式是："),s("code",[t._v("redis-cli.exe -h <指定ip> -p <指定端口> -a <指定密码>")])]),t._v(" "),s("p",[t._v("强行终止 Redis Server 进程可能会导致 redis 持久化数据丢失。正确停止 Redis 的方式应该是向 Redis 发送 SHUTDOWN 命令，方法为：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("./redis-cli.exe shutdown \n./redis-cli.exe -h 192.168.25.130 -p 6379 shutdown \n")])])])])}),[],!1,null,null,null);e.default=a.exports}}]);