(window.webpackJsonp=window.webpackJsonp||[]).push([[402],{770:function(t,s,a){"use strict";a.r(s);var v=a(47),e=Object(v.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"vue-cli-安装和使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-安装和使用"}},[t._v("#")]),t._v(" vue-cli 安装和使用")]),t._v(" "),a("h2",{attrs:{id:"webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack"}},[t._v("#")]),t._v(" webpack")]),t._v(" "),a("p",[t._v("前端项目工程化的标志之一就是引入了『"),a("strong",[t._v("编译")]),t._v("』环节，而 "),a("strong",[t._v("webpack")]),t._v(" 就是最常见、最常用的前端项目编译工具。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("如果作类比的话，那么 npm + webpack ≈ maven 。")])]),t._v(" "),a("p",[t._v("本来，我们应该是直接使用、配置 webpack ，由 webpack 来管理、配置、编译我们的 web 前端项目源码。只不过，"),a("strong",[t._v("直接去使用 webpack 会十分繁琐")]),a("small",[t._v("（专业人士除外）")]),t._v("，不简便。因此，前端各大框架"),a("small",[t._v("（不仅仅是 vue）")]),t._v("都提供了所谓的『"),a("strong",[t._v("脚手架")]),t._v("』。通过『脚手架』对 webpack 进行二次『包装』。")]),t._v(" "),a("p",[t._v("这样，我们是『"),a("strong",[t._v("直接使用脚手架，间接使用 webpack")]),t._v("』去管理、编译我们的 web 前端项目源码。")]),t._v(" "),a("h2",{attrs:{id:"介绍和安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍和安装"}},[t._v("#")]),t._v(" 介绍和安装")]),t._v(" "),a("p",[t._v("vue 官方提供的用于快速搭建 vue 项目的脚手架名为 "),a("strong",[t._v("vue-cli")]),t._v(" 。实际上，从 3.x 开始，它的正式名称就更名为 "),a("strong",[t._v("@vue/cli")]),t._v("，但在日常交流中，大家还是习惯性称呼为 vue-cli 。")]),t._v(" "),a("p",[t._v("通过 "),a("strong",[t._v("@vue/cli")]),t._v(" ，你能快速的构建一个基于 Vue 框架的 web 工程模板，最新的 @vue/cli 的版本是 "),a("strong",[t._v("4.x")]),t._v(" 。")]),t._v(" "),a("p",[t._v("官网："),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/vuejs/vue-cli"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("这里有 2 点需要注意的：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("vue-cli 正式的名字现在叫 "),a("strong",[t._v("@vue/cli")]),t._v("，这是从 "),a("strong",[t._v("3.x")]),t._v(" 开始改的名字。在 1.x 和 2.x 时代，它叫 vue-cli 。首先先确保你没有安装老版本：")])]),t._v(" "),a("li",[a("p",[t._v("vue-cli 从 "),a("code",[t._v("2.x")]),t._v(" 升级到 "),a("code",[t._v("3.x")]),t._v(" 之后，它的使用发生了一定的变化。例如，")])])]),t._v(" "),a("p",[t._v("因为 @vue/cli 更名问题，确定已删除 1.x 和 2.x 时代的 vue-cli")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("npm uninstall -g vue-cli\n")])])]),a("p",[t._v("从 vue-cli 变更为 @vue/cli 时，对于它的使用"),a("small",[t._v("（命令）")]),t._v("也发生了变化。例如，创建项目的所使用的命令，vue-cli 里是 "),a("code",[t._v("vue init")]),t._v("，到了 @vue/cli 就变为了 "),a("code",[t._v("vue create")]),t._v(" 。所以，在查阅资料时，注意下它所使用的是哪个版本的 vue-cli。也许，因为版本问题，你复制粘贴过来的命令根本就执行不了。")]),t._v(" "),a("p",[t._v("然后，安装 3.x 和 4.x 时代的 "),a("strong",[t._v("@vue/cli")]),t._v(" ：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("npm install -g @vue/cli\n")])])]),a("p",[t._v("安装结束后，你可以通过 "),a("strong",[t._v("vue --version")]),t._v(" 或 "),a("strong",[t._v("vue -V")]),t._v(" 查看 vue-cli 的版本信息。")]),t._v(" "),a("h2",{attrs:{id:"快速上手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[t._v("#")]),t._v(" 快速上手")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("@vue/cli 提供了一个 web 页面可用于创建项目"),a("small",[t._v("（vue-cli 没有）")]),t._v("，不过本质上和下面的命令行创建是一模一样的。通过 "),a("strong",[t._v("vue ui")]),t._v(" 命令你可以启动这个内置的 web 服务在页面上创建 vue 项目。")])]),t._v(" "),a("p",[t._v("使用如下命令开始创建 vue 项目"),a("small",[t._v("（这里示例项目名为 "),a("em",[t._v("hello-world")]),t._v(" ）")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("vue create hello-world\n")])])]),a("p",[t._v("你会看到如下内容：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/vue-cli/img/vue-cli-1.png",alt:"vue-cli-1"}})]),t._v(" "),a("ul",[a("li",[a("p",[t._v("第一项（ "),a("code",[t._v("default ...")]),t._v("）表示的是使用默认配置创建 vue 项目。")])]),t._v(" "),a("li",[a("p",[t._v("第二项（ "),a("code",[t._v("Manually ...")]),t._v("）表示手动对 vue 项目的各方面进行设置。"),a("strong",[t._v("我们选择第二项")]),t._v(" 。")])])]),t._v(" "),a("p",[t._v("可以使用『"),a("strong",[t._v("上下方向键")]),t._v("』来切换选项。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("如果只需要 babel 和 eslint 支持，不需要其它任何功能，那么选择第一项，就完事了。不过，我们在学习过程中一般不会使用 eslint 。")])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("选中第二项后，你会看到如下界面：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/vue-cli/img/vue-cli-2.png",alt:"vue-cli-2"}})]),t._v(" "),a("p",[t._v("在这个界面中，去需要去选择你的 vue 项目所要用到的特性。在特性列表中，"),a("code",[t._v("Babel")]),t._v(" 和 "),a("code",[t._v("Linter / Formatter")]),t._v(" 两项默认是选中的。")]),t._v(" "),a("p",[t._v("vue-cli 内置支持了 8 个功能特性，可以多选。使用『"),a("strong",[t._v("方向键")]),t._v("』在特性选项之间切换，使用『"),a("strong",[t._v("空格键")]),t._v("』选中当前特性，使用 "),a("strong",[t._v("a 键")]),t._v(" 切换选择所有，使用 "),a("strong",[t._v("i 键")]),t._v(" 翻转选项。")]),t._v(" "),a("p",[t._v("对于每一项的功能，此处做个简单描述：")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("Babel")]),t._v("：支持使用 babel 做转义。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("TypeScript")]),t._v("：支持使用 TypeScript 书写源码。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Progressive Web App (PWA) Support PWA")]),t._v("：支持。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Router")]),t._v("：支持 vue-router。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Vuex")]),t._v("：支持 vuex。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("CSS Pre-processors")]),t._v("：支持 CSS 预处理器。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Linter / Formatter")]),t._v("：支持代码风格检查和格式化。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Unit Testing")]),t._v("：支持单元测试。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("E2E Testing")]),t._v("： 支持 E2E 测试。")])])]),t._v(" "),a("p",[t._v("对于我们"),a("small",[t._v("（非前端开发工程师、Java 全栈开发工程师、Java 后端开发工程师）")]),t._v("而言，"),a("strong",[t._v("Babel")]),t._v("、"),a("strong",[t._v("Router")]),t._v(" 和 "),a("strong",[t._v("Vuex")]),t._v(" 是必选的。"),a("small",[a("strong",[t._v("CSS Pre-processors")]),t._v(" 可能会用到。")])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("如果在功能选择界面中选中了 "),a("strong",[t._v("Router")]),t._v("，那么我们接下来会看到如下界面"),a("small",[t._v("（如果功能界面没有选择 Router，就会跳过这个界面）")]),t._v("：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/vue-cli/img/vue-cli-3.png",alt:"vue-cli-3"}})]),t._v(" "),a("p",[t._v("在这个界面中，vue-cli 在询问你，对于 "),a("strong",[t._v("Router")]),t._v(" 你是否以它的 "),a("strong",[t._v("history")]),t._v(" 模式使用它？默认值是 "),a("code",[t._v("Yes")]),t._v(" 。")]),t._v(" "),a("p",[t._v("如果不使用 Router 的 "),a("strong",[t._v("history")]),t._v(" 模式，那自然就是 "),a("strong",[t._v("hash")]),t._v(" 模式。")]),t._v(" "),a("p",[t._v("这里我们输入 "),a("code",[t._v("n")]),t._v("，表示使用 Router 的 "),a("strong",[t._v("hash")]),t._v(" 模式。")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("在设置完你所要使用的各个功能的设置之后"),a("small",[t._v("（例如，上面的 Router 的 history / hash 模式的设置）")]),t._v("， 我们会看到下面界面：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/vue-cli/img/vue-cli-4.png",alt:"vue-cli-4"}})]),t._v(" "),a("p",[t._v("在这个界面中，vue-cli 是在询问你：是将所有的配置都放在 "),a("strong",[t._v("pacakge.json")]),t._v(" 一个文件中，还是将各个功能的配置分开存放在独立的文件中？")]),t._v(" "),a("p",[a("strong",[t._v("选择第一项：分开存放")]),t._v(" 。")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("这是 vue-cli 创建 vue 项目的最后一个界面：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/vue-cli/img/vue-cli-5.png",alt:"vue-cli-5"}})]),t._v(" "),a("p",[t._v("在这里，vue-cli 是在询问你：是否将你的这些设置保留下来作为默认的项目设置的模板。默认值是 "),a("strong",[a("code",[t._v("N")])]),t._v(" 。")]),t._v(" "),a("p",[t._v("我们输入 N，或者直接按回车确认进入安装界面：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/vue-cli/img/vue-cli-6.png",alt:"vue-cli-6"}})]),t._v(" "),a("h2",{attrs:{id:"idea-中创建-vue-项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#idea-中创建-vue-项目"}},[t._v("#")]),t._v(" IDEA 中创建 Vue 项目")]),t._v(" "),a("p",[t._v("在 IDEA 中创建 Vue 项目本质上和我们之前使用命令创建 Vue 项目是一样的。无非就是 IDEA 在『帮』我们执行 "),a("strong",[t._v("vue create")]),t._v(" 命令。")]),t._v(" "),a("p",[t._v("创建一个 Project/Module，选择 "),a("strong",[t._v("Static web")]),t._v("，再选中 "),a("strong",[t._v("Vue.js")]),t._v(" ：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/vue-cli/img/vue-cli-7.png",alt:"vue-cli-7"}})]),t._v(" "),a("p",[t._v("再下一个页面中，选择填写项目名称，项目的存储位置。另外，和之前的命令行中一样，记得『"),a("strong",[t._v("取消默认的设置")]),t._v("』：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/vue-cli/img/vue-cli-8.png",alt:"vue-cli-8"}})]),t._v(" "),a("p",[t._v("接下来，在 IDEA 的控制台中，进行相应的设置，这和我们之前的设置过程是一样的。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/vue-cli/img/vue-cli-9.png",alt:"vue-cli-9"}})]),t._v(" "),a("p",[t._v("无论是我们自己在命令行中直接使用 vue create 命令创建项目，还是我们在 IDEA 间接使用 vue create 命令创建项目，建好的项目的目录结构都是一样的。如下：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/vue-cli/img/vue-cli-10.png",alt:"vue-cli-10"}})]),t._v(" "),a("p",[t._v("其中：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("#")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("node_modules 目录")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("项目所依赖的包的存放目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("public 目录")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("存放项目所需的静态资源文件目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("src 目录")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("存放项目的源码文件的目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("babel.config.js 文件")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("babel 配置文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("package.json 文件")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("整个项目的配置文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("src/main.js 文件")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("整个项目的入口文件，并且在这里引入全局使用的 .vue、.css 文件")])])])]),t._v(" "),a("h2",{attrs:{id:"单文件组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单文件组件"}},[t._v("#")]),t._v(" 单文件组件")]),t._v(" "),a("p",[t._v("在 "),a("strong",[t._v("vue-cli")]),t._v(" 创建的 vue 项目中，我们看到有一类后缀名为 "),a("strong",[t._v(".vue")]),t._v(" 的文件，我们称为『"),a("strong",[t._v("单文件组件")]),t._v("』。")]),t._v(" "),a("p",[a("strong",[t._v(".vue")]),t._v(" 文件的概念的出现，是为了让我们以更友好更简便的方式编写 vue 代码。")]),t._v(" "),a("blockquote",[a("p",[t._v("至于如何将 "),a("strong",[t._v(".vue")]),t._v(" 文件『"),a("strong",[t._v("编译")]),t._v("』成传统的、正常的、浏览器认识的 html 中嵌 js 和 css 的形式，这就是 "),a("strong",[t._v("vue-cli")]),t._v(" 背后的 "),a("strong",[t._v("webpack")]),t._v(" 所要负责处理的事情了。")])]),t._v(" "),a("p",[t._v("单文件组件的组成结构分三部分：")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("template")]),t._v(" 组件的模板区域")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("script")]),t._v(" 业务逻辑区域")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("style")]),t._v(" 样式区域")])])]),t._v(" "),a("p",[t._v("例如：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 这里用于定义 Vue 组件的模板内容 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里用于定义 Vue 组件的业务逻辑")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 私有数据")]),t._v("\n    methods"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 处理函数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... 其它业务逻辑")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("scoped")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 这里用于定义组件的样式 */")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("每个组件都有自己独立的 html、js、css，互不干扰，真正做到可独立复用。")]),t._v(" "),a("h2",{attrs:{id:"package-json-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#package-json-文件"}},[t._v("#")]),t._v(" package.json 文件")]),t._v(" "),a("p",[t._v("vue 项目的核心配置文件 "),a("strong",[t._v("package.json")]),t._v(" 中已经配置了两个命令：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"serve"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue-cli-service serve"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue-cli-service build"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("如果你是在 IDEA 中查看 "),a("strong",[t._v("package.json")]),t._v(" 文件的内容，你会发现这两行命令前各有一个代表运行的可点击的绿色三角形。")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("serve 是运行命令")]),t._v(" 。在开发过程中是我们最经常用到的命令。通过它能将 vue 项目运行起来，是我们能通过浏览器访问。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("build 是编译命令")]),t._v(" 。是在开发结束后将项目源码编译、整合成最终的 html、js、css 等文件，这些文件会出现在项目的 "),a("strong",[t._v("dist")]),t._v(" 目录下。")])])]),t._v(" "),a("h2",{attrs:{id:"vue-config-js-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-config-js-文件"}},[t._v("#")]),t._v(" vue.config.js 文件")]),t._v(" "),a("p",[t._v("默认情况下通过 "),a("strong",[t._v("serve")]),t._v(" 命令运行项目会占用 "),a("code",[t._v("8080")]),t._v(" 端口，如果想作出改变的话，可以在 "),a("strong",[t._v("package.json")]),t._v(" 文件中添加配置项。")]),t._v(" "),a("p",[t._v("不过一般情况下，我们都是将这个配置写在另一个单独的配置文件中。在项目的根目录下（即，和 package.json 文件同级）创建一个名为 "),a("strong",[t._v("vue.config.js")]),t._v(" 的文件，并在其中加入如下配置：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  devServer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8888")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[a("strong",[t._v("vue.config.js")]),t._v(" 这个文件是 @vue/cli 项目的配置文件，以前"),a("small",[t._v("（vue-cli）")]),t._v("它叫 "),a("strong",[t._v("config/index.js")]),t._v(" 。")])]),t._v(" "),a("p",[t._v("再一次通过 "),a("strong",[t._v("serve")]),t._v(" 命令启动项目，你会发现这次 vue 项目占用的就是你所配置的 8888 端口。")]),t._v(" "),a("h2",{attrs:{id:"跨域问题解决"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跨域问题解决"}},[t._v("#")]),t._v(" 跨域问题解决")]),t._v(" "),a("p",[t._v("vue-cli 解决开发过程中的跨域问题是利用到了 webpack 在开发环境中所提供的代理服务器"),a("small",[t._v("（http-proxy-middleware）")]),t._v("。")]),t._v(" "),a("p",[t._v("前端的 ajax 请求并不是直接发给后台服务器，而是发给了代理服务器，再由代理服务器转发给后台服务器；返回数据的时候，同样也是由代理服务器接收到后台服务器的返回，然后代理服务器再将返回结果转发给前端。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("之所以能通过代理服务器解决跨域问题是因为代理服务器"),a("small",[t._v("（http-proxy-middleware）")]),t._v("它不是浏览器，它没有同源安全检测。")])]),t._v(" "),a("p",[t._v("配置代理服务器的相关配置是写在 "),a("strong",[t._v("vue.config.js")]),t._v(" 配置文件中的 "),a("strong",[t._v("devServer")]),t._v(" 配置项下。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  devServer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    proxy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/api"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n        target"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:8080'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2 ")]),t._v("\n        changeOrigin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3")]),t._v("\n        pathRewrite"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^/api'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("其实，这里的配置就是在『"),a("strong",[t._v("告知")]),t._v("』代理服务器"),a("small",[t._v("（"),a("strong",[t._v("http-proxy-middleware")]),t._v("）")]),t._v("：我"),a("small",[t._v("（vue）")]),t._v("发给你"),a("small",[t._v("（"),a("strong",[t._v("http-proxy-middleware")]),t._v("）")]),t._v("的 HTTP 请求，你要转交给谁，并且在转交的过程中是否需要做某些变动。")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("所有以 "),a("code",[t._v("/api")]),t._v(" 开头的请求都要求代理服务器进行转发。")])]),t._v(" "),a("li",[a("p",[t._v("要求代理服务器"),a("small",[t._v("（vue 的 http-proxy-middleware）")]),t._v("将我们发给它的请求转发到 xxx 地址，即，真实的后台服务器的根路径。这里需要注意的一点是，这里必须加上 "),a("code",[t._v("http://")]),t._v(" 前缀。")])]),t._v(" "),a("li",[a("p",[t._v("是否是跨域请求？这基本上肯定是废话，不跨域就没有必要配置这个 "),a("strong",[t._v("proxy")]),t._v(" 了。")])]),t._v(" "),a("li",[a("p",[t._v("代理服务器转发时是否需要改写 URI，以及如何改写。")])])]),t._v(" "),a("p",[t._v("『The End』")])])}),[],!1,null,null,null);s.default=e.exports}}]);