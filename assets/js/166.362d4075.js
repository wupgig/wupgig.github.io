(window.webpackJsonp=window.webpackJsonp||[]).push([[166],{534:function(t,v,_){"use strict";_.r(v);var l=_(47),e=Object(l.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"系统安装的预备知识"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#系统安装的预备知识"}},[t._v("#")]),t._v(" 系统安装的预备知识")]),t._v(" "),_("h2",{attrs:{id:"主分区和逻辑分区"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#主分区和逻辑分区"}},[t._v("#")]),t._v(" 主分区和逻辑分区")]),t._v(" "),_("p",[t._v("『"),_("strong",[t._v("主分区")]),t._v("』和『"),_("strong",[t._v("逻辑分区")]),t._v("』的概念的区别，以及『"),_("strong",[t._v("扩展分区")]),t._v("』概念的引出，都是历史发展过程中的产物。")]),t._v(" "),_("p",[_("strong",[t._v("DOS")]),t._v(" 和 "),_("strong",[t._v("FAT")]),t._v(" 文件系统"),_("small",[t._v("（它们是最早出现的广为流行的个人 PC 上的文件系统）")]),t._v("的早期设计思路是支持最多 24 个分区，可用盘符从 "),_("strong",[t._v("C")]),t._v(" 到 "),_("strong",[t._v("Z")]),t._v(" 。"),_("small",[t._v("（"),_("code",[t._v("A")]),t._v(" 和 "),_("code",[t._v("B")]),t._v(" 两个盘符固定分配给了软驱）。")])]),t._v(" "),_("p",[t._v("但是这个设定很快和另一个设定冲突了：MBR"),_("small",[t._v("（主引导记录）")]),t._v("的分区表中最多只能存放 4 个分区的相关信息。")]),t._v(" "),_("p",[t._v("为了避免被『打脸』"),_("small",[t._v("（ 24 VS 4）")]),t._v("，"),_("strong",[t._v("DOS")]),t._v(" 和 "),_("strong",[t._v("FAT")]),t._v(" 提出了一个方案：你可以将多个分区『"),_("strong",[t._v("装")]),t._v("』进一个"),_("small",[t._v("（概念上的）")]),t._v("容器中把它们『"),_("strong",[t._v("当作")]),t._v("』一个整体。这样，N 个分区就变成了 1 个分区。")]),t._v(" "),_("blockquote",[_("p",[t._v("通过这种方案，别说 24 个分区硬凑成 4 个分区，就是 240 个分区你都能硬凑成 4 个分区。")])]),t._v(" "),_("p",[t._v("这样，被『装』进这个"),_("small",[t._v("（概念上的）")]),t._v("容器中的各个分区就被称为『"),_("strong",[t._v("逻辑分区")]),t._v("』。它们这个整体，也就是这个容器被称为『"),_("strong",[t._v("扩展分区")]),t._v("』。")]),t._v(" "),_("p",[t._v("有些分区独立存在的，不用和别的分区硬凑进扩展分区中的分区就被称为『"),_("strong",[t._v("主分区")]),t._v("』。")]),t._v(" "),_("p",[t._v("这样"),_("code",[t._v("凑四")]),t._v("的方案就可以有很多种了。"),_("small",[t._v("当然，你也『"),_("strong",[t._v("不一定非得用满 4 个分区")]),t._v("』。")]),t._v("方案很多，无穷无尽，随手例如：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",{staticStyle:{"text-align":"center"}},[t._v("#")]),t._v(" "),_("th",{staticStyle:{"text-align":"left"}},[t._v("方案一")]),t._v(" "),_("th",{staticStyle:{"text-align":"left"}},[t._v("方案二")]),t._v(" "),_("th",{staticStyle:{"text-align":"left"}},[t._v("方案三")])])]),t._v(" "),_("tbody",[_("tr",[_("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("扩展分区，"),_("br"),_("small",[t._v("它由 5 个逻辑分区组成")])])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("扩展分区，"),_("br"),_("small",[t._v("它由 10 个逻辑分区组成")])]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("扩展分区，"),_("br"),_("small",[t._v("它由 10 个逻辑分区组成")])])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("扩展分区，"),_("br"),_("small",[t._v("它由 21 个逻辑分区组成")])]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("扩展分区，"),_("br"),_("small",[t._v("它由 12 个逻辑分区组成")])]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("扩展分区，"),_("br"),_("small",[t._v("它由 8 个逻辑分区组成")])])])])]),t._v(" "),_("p",[t._v("再强调一遍，如果你本身没有那么多的分区需求，你完全可以就是直接 4 个主分区"),_("small",[t._v("（或更少的主分区）")]),t._v("，简单粗暴。")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",{staticStyle:{"text-align":"center"}},[t._v("#")]),t._v(" "),_("th",{staticStyle:{"text-align":"left"}},[t._v("方案一")]),t._v(" "),_("th",{staticStyle:{"text-align":"left"}},[t._v("方案二")]),t._v(" "),_("th",{staticStyle:{"text-align":"left"}},[t._v("方案三")]),t._v(" "),_("th",{staticStyle:{"text-align":"left"}},[t._v("方案四")])])]),t._v(" "),_("tbody",[_("tr",[_("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("无")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("无")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("无")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分区")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("无")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("无")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("无")])])])]),t._v(" "),_("hr"),t._v(" "),_("h2",{attrs:{id:"分区的编号"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#分区的编号"}},[t._v("#")]),t._v(" 分区的编号")]),t._v(" "),_("p",[t._v("在 Windows 中，各个分区都有盘符表示，从 "),_("strong",[t._v("C")]),t._v(" 到 "),_("strong",[t._v("Z")]),t._v("。在 Linux 中则使用的是数字编号，并且人为规定编号有『主分区』和『逻辑分区』之分：")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("『"),_("strong",[t._v("主分区")]),t._v("』使用数字：1、2、3、4")])]),t._v(" "),_("li",[_("p",[t._v("『"),_("strong",[t._v("逻辑分区")]),t._v("』使用数字：5、6、7、8、...")])])]),t._v(" "),_("blockquote",[_("p",[t._v("在 Windows 中，作为『逻辑分区』的容器，『"),_("strong",[t._v("扩展分区")]),t._v("』这个概念十分明显，在不少些地方你会看到『扩展分区』这个名词。")]),t._v(" "),_("p",[t._v("但是在 Linux 中，扩展分区概念十分弱化，一般你面对的都是『"),_("strong",[t._v("主分区")]),t._v("』、『"),_("strong",[t._v("逻辑分区")]),t._v("』这两个概念。")])]),t._v(" "),_("p",[t._v("当然，如果你没有那么多主分区，那么中间的某些数字可能会跳过。因为第一个逻辑分区的编号必定是 5 。")]),t._v(" "),_("p",[t._v("例如，上述的方案二，你得到的各个分区的数字编号将是：1、2、5、6、7、... 。")]),t._v(" "),_("h2",{attrs:{id:"开机启动和-boot-loader"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#开机启动和-boot-loader"}},[t._v("#")]),t._v(" 开机启动和 boot loader")]),t._v(" "),_("p",[t._v("计算机的开机启动有固定的流程：")]),t._v(" "),_("ol",[_("li",[_("p",[t._v("主板通电后执行主板中的 BIOS，去执行某些任务；")])]),t._v(" "),_("li",[_("p",[t._v("BIOS 最后会加载『"),_("strong",[t._v("硬盘第一个扇区")]),t._v("』"),_("small",[t._v("（512 个字节）")]),t._v("中的代码；"),_("small",[t._v("至此，BIOS"),_("small",[t._v("（在本次启动中）")]),t._v("的任务使命结束。")])]),t._v(" "),_("p",[t._v("硬盘第一个扇区的 512 个字节中有 2 部分内容：")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("前 446 字节中是被称为 "),_("strong",[t._v("boot loader")]),t._v(" 的程序的代码；")])]),t._v(" "),_("li",[_("p",[t._v("后 64 字节中最多可存放 4 个分区的相关信息（8 x 4 字节）；")])]),t._v(" "),_("li",[_("p",[t._v("最后 2 个字节是固定的标志 0x55AA 。")])])])]),t._v(" "),_("li",[_("p",[t._v("BIOS 结束运行后，"),_("strong",[t._v("boot loader")]),t._v(" 开始运行。"),_("strong",[t._v("boot loader")]),t._v(" 的使命和任务就是加载操作系统镜像并运行。")])]),t._v(" "),_("li",[_("p",[t._v("boot loader 加载了操作系统镜像之后，它（在本次启动过程中的）使命就结束了。")])]),t._v(" "),_("li",[_("p",[t._v("操作系统开始运行，电脑的控制权就交到了操作系统手里。")])])]),t._v(" "),_("p",[t._v("boot loader 是一类软件的总称"),_("small",[t._v("（角色、身份）")]),t._v("。Windows 使用的 boot loader 是 "),_("strong",[_("code",[t._v("windows boot manager")])]),t._v("，Linux 使用的 boot loader 是 "),_("strong",[_("code",[t._v("grub2")])]),t._v(" 。")]),t._v(" "),_("p",[_("img",{attrs:{src:"https://hemiao3000.gitee.io/java-note-img/images/linux/img/boot-loader.png",alt:"boot-loader"}})]),t._v(" "),_("hr"),t._v(" "),_("p",[t._v("从上面的开机启动过程可以看到，开机无法进入系统的原因通常有：")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("BIOS 坏了"),_("small",[t._v("（这个可能性极低）")]),t._v("。")])]),t._v(" "),_("li",[_("p",[t._v("硬盘的第一个扇区中的内容不正确，因此 BIOS 无法加载 boot loader，无法进入下一个环节。")])]),t._v(" "),_("li",[_("p",[t._v("boot loader 没有发现你电脑上有系统镜像，或者，没有发现你电脑上的全部系统镜像。")])])]),t._v(" "),_("hr"),t._v(" "),_("p",[t._v("毫无疑问，一台电脑上，boot loader 软件有且仅需要一个。"),_("code",[t._v("windows boot manager")]),t._v(" 或者是 "),_("code",[t._v("grub2")]),t._v(" 。")]),t._v(" "),_("p",[t._v("不过，有可能你有意或无意中遇到特殊情况。例如，你的电脑是双硬盘，你在两块硬盘上分别安装 Windows 和 Linux 双系统，并且将它们对应的 boot loader 也在两个硬盘上各装了一个。")]),t._v(" "),_("p",[t._v("对于这种情况，无论你有多少个硬盘，其上又有多少个 boot loader，BIOS 总是按照先后顺序挨个在各个硬盘上查找是否存在 boot loader，如果有，则加载，运行，并且不再查找下一个硬盘。")]),t._v(" "),_("p",[t._v("当然，你可以在 BIOS 中去设置硬盘的优先级，从而决定使用哪个硬盘上所安装的 boot loader。但是本质上这里始终是只有一个 boot loader 在起作用。")])])}),[],!1,null,null,null);v.default=e.exports}}]);